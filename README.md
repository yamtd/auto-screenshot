# Auto-Screenshot プロジェクト

## 概要
このプロジェクトは、指定されたURLのスクリーンショットを自動で取得し、画像の差分を検出するツールです。Playwrightを使用してスクリーンショットを取得し、reg-cliを使用して画像の差分をチェックします。

## 環境構築
このプロジェクトを実行するには、以下の手順に従って環境を構築してください。

### 必要条件
- Node.js (動作確認済みバージョン: `v20.10.0`)
- npm (Node.jsに含まれています)

```
node -v
#v20.10.0
```

### インストール手順
1. このリポジトリをクローンまたはダウンロードします。
2. プロジェクトのルートディレクトリで以下のコマンドを実行して依存関係をインストールします。

```
npm install
```

## 使用方法

### スクリーンショットの取得
1. `urls.csv` ファイルにスクリーンショットを取得したいURLを列挙します。
2. 以下のコマンドを実行してスクリーンショットを取得します。

```
node main.js
```

- スクリーンショットは `./dist/YYYYMMDD_pc` ディレクトリに保存されます。

### 画像の差分検出
1. 差分を検出したい画像を `actualPath` と `expectedPath` に配置します。
2. 以下のコマンドを実行して画像の差分を検出します。

```
npm run compare actualPath expectedPath diffPath reportPath
```
example:
```
npm run compare ./dist/20240429_pc ./dist/20240329_pc ./diff ./report/202404.html
```

- 差分がある場合、`diffPath` に差分画像が、`reportPath` にレポートが生成されます。

## スクリプトの説明
- `main.js`: URLからスクリーンショットを取得するスクリプトです。
- `compare.js`: 画像の差分を検出するスクリプトです。



